webpackJsonp([6],{mrsp:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("Dd8w"),a=t.n(s),o=t("gyMJ"),l={data:function(){var e=this;return{saveLevel:"",ruleForm:{password:"",rePassword:"",userName:""},rules:{password:[{validator:function(r,t,s){""===t?s(new Error("请输入密码")):(""!==e.ruleForm.rePassword&&e.$refs.ruleForm.validateField("rePassword"),s())},trigger:"blur"}],rePassword:[{validator:function(r,t,s){""===t?s(new Error("请再次输入密码")):t!==e.ruleForm.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],userName:[{validator:function(e,r,t){if(!r)return t(new Error("用户名不能为空"));setTimeout(function(){r.length<4||r.length>16?t(new Error("用户名必须为4-16位的字母数字下划线组成")):r.match(/_/g)&&r.match(/(\w)+/g)&&r.match(/(\d)+/g)?t():t(new Error("用户名必须为字母数字下划线组成"))},1e3)},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var t=a()({},r.ruleForm);o.a.register({params:t}).then(function(e){if(e.status&&"fail"===e.status)return alert(e),!1;alert("注册成功！"),r.$router.push({name:"index"});var t={userName:e,password:r.ruleForm.password};r.$store.commit("setUserName",t)})})},inputPass:function(){var e=this.ruleForm.password;e.length<6?this.saveLevel="week":e.length>6&&e.length<10?this.saveLevel="normal":e.length>=10&&(this.saveLevel="strong")}}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"page-register"},[e._m(0),e._v(" "),t("div",{staticClass:"content"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm content",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[t("el-input",{attrs:{type:"username",autocomplete:"off"},model:{value:e.ruleForm.userName,callback:function(r){e.$set(e.ruleForm,"userName",r)},expression:"ruleForm.userName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"创建密码",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},on:{input:e.inputPass},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),t("div",{staticClass:"pw-strength"},[t("div",{class:["bar",e.saveLevel]}),e._v(" "),t("div",{staticClass:"letter"},[t("span",[e._v("弱")]),e._v(" "),t("span",[e._v("中")]),e._v(" "),t("span",[e._v("强")])])]),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"rePassword"}},[t("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.rePassword,callback:function(r){e.$set(e.ruleForm,"rePassword",r)},expression:"ruleForm.rePassword"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册")])],1)],1)],1),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"header"},[r("header",[r("div",{staticClass:"site-logo"}),this._v(" "),r("div",{staticClass:"login"},[r("span",{staticClass:"bold"},[this._v("已有美团账号？")]),this._v(" "),r("a",{attrs:{href:"#"}},[this._v("登录")])])])])},function(){var e=this.$createElement,r=this._self._c||e;return r("footer",[r("a",{attrs:{href:"#"}},[this._v("©meituan.com 京ICP证070791号")]),this._v(" "),r("span",[this._v("京公网安备11010502025545号")])])}]};var n=t("VU/8")(l,i,!1,function(e){t("uCMi")},null,null);r.default=n.exports},uCMi:function(e,r){}});
//# sourceMappingURL=6.40c29ae3acf1b3a8d7e8.js.map